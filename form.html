<!DOCTYPE html>
<html>
<head>
  <title>Form Page</title>
</head>
<body>
  <h2>Enter Your Details</h2>
  <form id="userForm">
    <input type="text" id="name" placeholder="Name" required><br>
    <input type="email" id="email" placeholder="Email" required><br>
    <input type="text" id="phone" placeholder="Phone" required><br>
    <button type="submit">Submit</button>
  </form>

<!-- Firebase Scripts -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-analytics.js";
  import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAdDSSUjLjrMDzag5HmwfBZdGwSw7hsSjM",
    authDomain: "form-website-e7124.firebaseapp.com",
    projectId: "form-website-e7124",
    storageBucket: "form-website-e7124.firebasestorage.app",
    messagingSenderId: "519658948782",
    appId: "1:519658948782:web:9cdb2f16ec5bd71aee853f",
    measurementId: "G-PM4QBDRXNX",
    databaseURL: "https://form-website-e7124-default-rtdb.firebaseio.com"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getDatabase(app);

  //submit data
  document.getElementById("userForm")?.addEventListener("submit", function (e) {
    e.preventDefault();
    const name = document.getElementById("name").value;
    const email = document.getElementById("email").value;
    const phone = document.getElementById("phone").value;

    push(ref(db, "users/"), {
      name,
      email,
      phone
    }).then(() => {
      alert("Data saved!");
      window.location.href = "display.html";
    });
  });

  </script>
</body>
</html>
